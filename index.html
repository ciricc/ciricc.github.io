<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="ru"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="ru"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="ru"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="ru">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="EasyVK - это javascript модуль, созданный для поддержки ВКонтакте API на платформе для node.js. Этот сайт является официальной документацией по использованию этого модуля.">
    <meta name="author" content="Кирилл Новак">
    <meta name="keywords" content="easyvk,nodejs,javascript,vkontakte,api,вконтакте,вк,API,sdk,npmjs,npm,изивк,изи,easy,async,await">

    <title>EasyVK - документация по использованию</title>

    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/custom.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>.nav-link{color:#000;font-size: 16px;margin:0px 5px;}</style>
</head>

<body>

    <div id="wrapper">

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>Easy<span style="color: #7298C3;font-weight: bold;">VK</span> v0.4</h1>
                            <p class="lead">NodeJS модуль для работы с VK API</p>
                            <p>
                                | <a href="https://vk.com/dev" target="_blank" class="nav-link">Официальная документация API ВКонтакте</a> | <a href="https://npmjs.org/package/easyvk" target="_blank" class="nav-link">EasyVK в npm</a> | <a href="https://github.com/ciricc/easyvk" target="_blank" class="nav-link">EasyVK github</a> | <a href="https://vk.com/club162208999" target="_blank" class="nav-link" target="_blank">Сообщество</a> |
                            </p>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3 bar" style="padding: 0;">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200" role="navigation">
                        <ul class="nav">
                            <li><a href="#line1">Приступаем (Auth)</a></li>
                            <li><a href="#line2">Methods (Методы)</a>
                                <ul class="nav">
                                    <li><a href="#line2_1">vk.call()</a></li>
                                    <li><a href="#line2_2">vk.saveSession()</a></li>
                                </ul>
                            </li>
                            <li><a href="#line3">Static методы</a>
                                <ul class="nav">
                                    <li><a href="#line3_1">static.call()</a></li>
                                    <li><a href="#line3_2">static.urlencode()</a></li>
                                    <li><a href="#line3_3">static.isObject()</a></li>
                                    <li><a href="#line3_4">static.isString()</a></li>
                                    <li><a href="#line3_5">static.checkJSONErrors()</a></li>
                                    <li><a href="#line3_6">static.checkErrors()</a></li>
                                    <li><a href="#line3_7">static.encodeHTML()</a></li>
                                </ul>
                            </li>
                            <li><a href="#line4">Streming API</a><ul class="nav">
                                <li><a href="#streaming_connect">streamingAPI.connect()</a></li>
                                <li><a href="#stream_addrule">stream.addRule()</a></li>
                                <li><a href="#stream_deleterule">stream.deleteRule()</a></li>
                                <li><a href="#stream_initrules">stream.initRules()</a></li>
                                <li><a href="#stream_getrules">stream.getRules()</a></li>
                                <li><a href="#stream_deleteallrules">stream.deleteAllRules()</a></li>
                                <li><a href="#stream_close">stream.close()</a></li>
                                <li><a href="#stream_events">События (Events)</a></li>
                            </ul></li>
                            <li><a href="#longpollapi">User LongPoll API</a><ul class="nav">
                                <li><a href="#longpoll_connect">longpoll.connect()</a></li>
                                <li><a href="#longpollconnection_addeventcodelistener">connection.addEventCodeListener()</a></li>
                                <li><a href="#longpollconnection_close">connection.close()</a></li>
                                <li><a href="#longpollconnection_debug">connection.debug()</a></li>
                                <li><a href="#longpoll_connect_full">longpoll.connect() (full)</a></li>
                                <li><a href="#longpoll_events">События (Events)</a></li>
                            </ul></li>
                            <li><a href="#botslongpollapi">Bots LongPoll API</a><ul class="nav">
                                <li><a href="#botslongpollapi_events">События (Events)</a></li>
                            </ul></li>
                            <li><a href="#callbackapi">Callback API</a>
                                <ul class="nav">
                                    <li><a href="#callbackapi_listen">callbackAPI.listen()</a></li>
                                    <li><a href="#callbackapi_events">События (Events)</a></li>
                                </ul>
                            </li>
                            <li><a href="#files">Файлы (uploader)</a>
                                <ul class="nav">
                                    <li><a href="#files_getuploadurl">uploader.getUploadURL()</a></li>
                                    <li><a href="#files_uploadfile">uploader.uploadFile()</a></li>
                                </ul>
                            </li>
                            <li><a href="#helpers">Helpers (Помощники)</a><ul class="nav">
                                <li><a href="#helpers_getallfriendslist">helpers.getAllFriendsList()</a></li>
                                <li><a href="#helpers_isfriend">helpers.isFriend()</a></li>
                                <li><a href="#helpers_userfollowed">helpers.userFollowed()</a></li>
                            </ul></li>
                            <li><a href="#advices">Советы / FAQ</a><ul class="nav">
                                <li><a href="#advices_1">Синхронное выполнение?</a></li>
                            </ul></li>
                        </ul>
                    </nav >
                </div>
                <div class="col-md-9">
                    <section class="welcome">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Что такое EasyVK?<hr></h2>
                                <div class="row">

                                    <div class="col-md-12 full">
                                        <div>
                                            <p>
                                                EasyVK - это модуль node.js, написанный на JavaScript, который способен помочь с легкостью обращаться с API ВКонтакте бесплатно и без регистрации. <br>
                                                Автор данного модуля - javascript разработчик Кирилл Новак (оч скромно).
                                            </p>

                                            <p>При помощи EasyVK вы можете создавать приложения на node.js любого рода. Начиная от простейшего: <b>поиск лайков группы</b>, заканчивая более сложным, как на пример - <b>создание бота</b> или <b>таргетинг новостей</b>. <br>
                                            EasyVK написан для того, чтобы API ВКонтакте имел удобную поддержку на платформе node.js, абсолютно все компоненты EasyVK бесплатные и доступны с исходным кодом.
                                            </p>
                                            <p>
                                                <strong>На данный момент EasyVK поддерживает основные платформы API ВКонтакте</strong> <br>
                                                <ul>
                                                    <li><a href="https://vk.com/dev/callback_api" target="_blank">Callback API</a> - <b>управление группой, создание ботов для группы</b></li>
                                                    <li><a href="https://vk.com/dev/using_longpoll" target="_blank">LongPoll</a> - <b>создание ботов, прослушивание событий аккаунта пользователя или группы</b></li>
                                                    <li><a href="https://vk.com/dev/streaming_api_docs" target="_blank">Streaming API</a> - <b>таргетинг, сбор информации о новостях, комментариях и другом по определенным правилам</b> </li>
                                                    <li><a href="https://vk.com/dev/methods" target="_blank">Methods</a> - <b>Стандартные методы для управления аккаунтом / группой, и не только</b></li>
                                                    <li><a href="https://vk.com/dev/upload_files" target="_blank">Files</a> - <b>загрузка файлов на сервера ВК</b>, на пример - обложка для группы</li>
                                                </ul>
                                            </p>
                                            <h4>Что необходимо</h4>
                                            <p>Для того, чтобы использовать EasyVK, убедитесь, что у вас установлен <a href="https://nodejs.org/" target="_blank">node.js</a> версии >= 8.*</p>
                                            Необходимо установить модуль <code>easyvk</code> <br> 
                                            Для этого необходимо установить менеджер пакетов <code>npm</code> и ввести следующую команду<br>
                                            <pre class="line-numbers"><code class="command">npm install easyvk</code></pre><br>
                                            <p>
                                                После этого необходимо в текущей директории (куда устанавливали easyvk) создать файл <code>index.js</code>. <br>
                                                В него необходимо поместить следующий код
                                                <pre><code class="line-numbers language-js">const easyVK = require("easyvk");</code></pre>
                                            </p>
                                            <p>
                                                <i class="block">
                                                    <b>Весь код</b>, приведенный в данной документации <b>тестировался на версии</b> <b>0.4</b> <br>
                                                     Вы можете быть уверены, что <b>для этой версии все работает стабильно</b>. Во время тестов было исправено много багов и недочетов, благодаря чему я теперь уверен, что это самый стабильный релиз.
                                                </i>
                                            </p>
                                        </div>
                                    </div>

                                </div>
                                <!-- end row -->
                            </div>
                        </div>
                    </section>

                    <section id="line1" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Приступаем <a href="#top">#наверх</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                <p>
                                    Прежде чем начать использовать EasyVK, необходимо понять как он работает. <br>
                                    EasyVK - это впервую очередь посредник между сервером ВК и вашими идеями. Так как EasyVK работает с методами ВКонтакте, то мы следуем и их требованиям. <br>
                                    Именно поэтому прежде чем начать работать с EasyVK, необходимо сначала авторизоваться и создать сессию easyVK.
                                </p>
                                <p>
                                    Для авторизации в EasyVK есть несколько способов
                                    <ul>
                                        <li>1. Авторизация по <code>access_token</code> пользователя</li>
                                        <li>2. Авторизация по <code>access_token</code> группы</li>
                                        <li>3. Авторизация по логину и паролю пользователя</li>
                                    </ul>
                                </p>
                                <p>
                                    Какой нужен вам - решать вам. <br>
                                    Если вам необходимо работать с группой, то добавляйте <code>access_token</code> группы, а если же вы работаете с личным аккаунтом или аккаунтом пользователя - вы имеет право выбрать каким способом его авторизовывать. Если же вам нужно только для личного использования и вы не хотите заморачиваться на получение токена, выберите 3 способ. 
                                </p>
                                <p>
                                    Итак, вот код, который необходим для авторизации по <code>access_token</code>
                                    <pre class="line-numbers"><code class="language-js">              
errHandler = (err) => {console.log(err);}

easyVK({
    access_token: "это_ваш_токен"
}).then((vk) => {
    console.log(vk.session.group_id) //Для групп
    console.log(vk.session.user_id) //Для пользователя
}, errHandler);
                                    </code></pre>
                                </p>
                                <p>
                                    А для пользователя мы выбираем следующий способ:
                                </p>
                                <pre class="line-numbers"><code class="language-js">
easyVK({
    username: "ваш_email@mail.ru_или_номер_телефона",
    password: "ваш_пароль"
}).then((vk) => {}, errHandler);
                                </code></pre>
                                <p>
                                    Возможно, вам захотелось узнать, какие параметры можно использовать в объекте инициализации. <br>
                                    Все очень просто, взгляните на следующую таблицу.
                                </p>
                                  <table>
                                      <caption>Параметры объекта инициализации</caption>
                                      <tr>
                                          <th>Параметр</th>
                                          <th>Описание</th>
                                          <th>По умолчанию</th>
                                      </tr>
                                      <tr>
                                          <td><code>api_v</code></td>
                                          <td>Версия API ВКонтакте, которая будет использоватья для всех запросов.</td>
                                          <td><a href="https://vk.com/dev/versions" target="_blank">5.73</a></td>
                                      </tr>
                                      <tr>
                                          <td><code>access_token</code></td>
                                          <td>Токен доступа для авторизации и отправки запросов к API. Обязательный параметр, если файл сесси пустой или не введены другие данные для авторизации.</td>
                                          <td>Отсутствует</td>
                                      </tr>
                                      <tr>
                                          <td><code>username</code></td>
                                          <td>Имя пользователя при авторизации пользователя. Обзательный параметр, если файл сессии пустой или не введены другие данные для авторизации.</td>
                                          <td>Отсутствует</td>
                                      </tr>
                                      <tr>
                                          <td><code>password</code></td>
                                          <td>Пароль пользователя. Необходим только, если введен параметр <code>username</code></td>
                                          <td>Отсутствует</td>
                                      </tr>
                                      <tr>
                                          <td><code>reauth</code></td>
                                          <td>В случае если вам необходимо перезаписать файл сессии новыми параметрыми или вы не хотите авторизовываться по сохраненным данным, необходимо вставить этот параметр.</td>
                                          <td><code>false</code></td>
                                      </tr>
                                      <tr>
                                          <td><code>save_session</code></td>
                                          <td>Если есть необходимость не сохранять файл сессии, то вы можете выставить этот параметр, как <code>false</code></td>
                                          <td><code>true</code></td>
                                      </tr>
                                      <tr>
                                          <td><code>clean_session</code></td>
                                          <td>Если имеется необходимость отщищать файл сессии после авторизации, можете поставить этот параметр как <code>true</code></td>
                                          <td><code>false</code></td>
                                      </tr>
                                      <tr>
                                          <td><code>session_file</code></td>
                                          <td>Путь к файлу сессии, куда будет сохраняться ваша сессиия.</td>
                                          <td><code>.vksession</code></td>
                                      </tr>
                                      <tr>
                                          <td><code>code</code></td>
                                          <td>В случае, если ваш аккаунт использует двухфакторную авторизацию, необходимо передать в этот параметр код из SMS или код из приложения, которое вы используете для генерации этого кода.</td>
                                          <td>Отсутствует</td>
                                      </tr>
                                      <tr>
                                          <td><code>captcha_key</code></td>
                                          <td>Если возникла ошибка капчи, значит вас подозреваются в дудосе. Введите в этот параметр строку с капчи, которую вы найдете в ошибке, если правильно ее выводите.</td>
                                          <td><code>""</code></td>
                                      </tr>
                                      <tr>
                                          <td><code>captcha_sid</code></td>
                                          <td>В этот параметр нужно вводить sID капчи, который вы получаете из ошибки.</td>
                                          <td><code>""</code></td>
                                      </tr>
                                  </table>
                                  Это конечный список параметров авторизации. Вряд ли он будет пополняться, но может произойти все, что угодно. <br><br>
                                  Итак, после того, как вы авторизовались, будет создан файл сессии, который будет содержать сессию группы/пользователя. <br>
                                  В этой сессии записаны некоторые параметры: <code>group_id</code> (для групп), <code>access_token</code>, <code>user_id</code> (для пользователя), <code>first_name</code> (имя), <code>last_name</code> (фамилия), <code>group_name</code> (название группы), <code>group_screen</code> (буквенный id группы). <br>
                                  В последующих попытках авторизации все данные будут браться из этого файла, даже если они отличаются от тех, что вы ввели. Если вы этого не желаете, установите параметр <code>reauth</code> как <code>true</code><br><br>

                                  <strong>Что там такое then((vk) => ...)?</strong>
                                  <p>
                                        Это просто вызов callback функции, первым параметром в нее передается объект EasyVK, с которым вы и будете работать далее.
                                  </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line2" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Methods (Методы)<a href="#top">#наверх</a><hr></h2>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <p>
                                        В объекте EasyVK есть несколько методов, которые могут вам пригодиться для работы с API ВКонтакте. Документацию по ним можно прочитать ниже.
                                    </p><br>
                                </div> <!-- end col -->
                            </div> <!-- end row -->
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line2_1">vk.call(...)</h4>
                                
                                Данный метод обращается к стандартным <a href="https://vk.com/dev/methods" target="_blank">методам</a> API ВКонтакте. <br>
                                Вы можете контроллировать запрос, отправляя определенные параметры на сервер, а затем получать ответ. В случае ошибки, вы можете ловить ее и выводить в консоль без остановки программы.

                                <br>
                                <p>
                                    Обращение к данному методу у текущего объекта гарантирует, что запрос отправится вместе с <code>access_token</code> из сессии. В случае же, если вам необходимо сделать запрос к методу, который не требует авторизации, вы можете воспользоваться static методами, о которых речь пойдет ниже. Но это необязательно.
                                </p>
                                <br><br>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>Promise</code></td>
                                        <td>Стандартный объект <code>Promise</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> methodName</td>
                                        <td><code>{String}</code></td>
                                        <td>Имя метода</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> data</td>
                                        <td><code>{Object}</code></td>
                                        <td>Объект с параметрами для запроса, на пример: <br> <code>{text: "Привет!"}</code> </td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> methodType</td>
                                        <td><code>{String}</code></td>
                                        <td>Один из способов отправки запроса: <br><code>["post", "get", "delete", "put"]</code></td>
                                    </tr>
                                </table>

                                <br>
                                <p>
                                    После обращения в функцию <code>resolve</code> передается полный ответ ВК в виде объекта.
                                </p><br>

                                <h4>Пример использования</h4>
                                <p>
                                    Приведу очень простой пример - отправка сообщения. Прошу вас заметить, что я обращаюсь не к функции easyVK, а к объекту vk, который уже получил после авторизации.
                                </p>
                                <br>
                                <pre class="line-numbers"><code class="language-js">
vk.call("messages.send", {
    user_id: "356607530",
    message: "Привет, Кирилл! Я использую твой модуль EasyVK!",
    attachment: ["photo100172_166443618", "video85635407_165186811_69dff3de4372ae9b6e"]
}).then(vkr => {console.log(vkr)}, errHandler);
                                </code></pre><br>
                                <p>
                                    Или, на пример - отправка слишком большого поста. С таким ограничением часто встречаются все программисты, именно поэтому я добавил поддержку <code>POST</code> запросов.
                                </p><br>
                                <pre class="line-numbers"><code class="language-js">
vk.call("wall.post", {
    message: `very large text..... more >> `
}, "post").catch(errHandler);
                                </code></pre>
                                <br>
                                <p>
                                    Для загрузки файлов таким способом я рекомендую использовать уже имеющийся загрузчик, и отказаться от метода <code>vk.call()</code>
                                </p><br>
                            </div>
                            <!-- end col -->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line2_2">vk.saveSession(...)</h4>
                                <p>
                                    Данный метод сохраняет файл сессии по указанному пути в параметре <code>file_session</code>.
                                </p>
                                <p>
                                    Сохранение происходит синхронно.
                                </p>
                                <p>
                                    Метод ничего не принимает и ничего не возвращает.
                                </p>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.session.foo = "bar";
vk.saveSession();
                                </code></pre>
                                <p>
                                    После следующего запуска вам будет доступна переменная <code>vk.session.foo</code>. Таким образом вы можете кешировать какие-либо данные для себя. Вы получите эту переменную только в том случае, если не просите переавторизоваться с новыми данными.
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                    </section>
                    <!-- end section -->

                    <section id="line3" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Static методы<a href="#top">#наверх</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                    
                        <p>
                            Static методы - это методы, которые не требуют инициализации объекта. <br>
                            В нашем случае эти методы не требуют авторизации. В большинстве случаев static методы в EasyVK - это просто дополнительные функции, которые применялись во время разработки EasyVK. Эти функции доступны каждой утилите, именно поэтому я их использую.
                        </p><br>
                        <p>
                            Static методы могут применяться для удобства разработки, или же, на пример, для обращения к методам API ВКонтакте, которые не требуют авторизации (пример будет ниже). <br>
                            Ну а теперь просто подробней разберем каждый из них.
                        </p>
                        <br>
                        <p>
                            Стандартный способ использования static методов
                            <pre class="line-numbers"><code class="language-js">
easyVK.static.someMethodName();
                            </code></pre>
                        </p>

                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line3_1">static.call(...)</h4>
                                <p>
                                    Данный метод обращается к методу API ВКонтакте, не требуя авторизации. Такая необходимость возникает часто тогда, когда запрос не требует вообще никаких <code>access_token</code>. <br>
                                    EasyVK не требует чтобы вы точно знали, нужна ли авторизация для метода или нет. Но так же EasyVK не знает, нужна ли авторизация, или нет. <br>
                                    В случае, если вы обращаетесь к данному методу с намерением выполнить запрос, <b>который требует авторизации</b>, вы получите ошибку не от EasyVK, а от сервера ВКонтакте. <br>
                                    Именно благодаря этому библиотека может жить еще долго, а поддерживать ее будет необходимо только в случае, если архитектура API изменится или, на пример, добавится новая платформа.
                                </p>
                                <p>
                                    Итак, немного описания.
                                </p>

                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>Promise</code></td>
                                        <td>Стандартный объект <code>Promise</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> methodName</td>
                                        <td><code>{String}</code></td>
                                        <td>Имя метода</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> data</td>
                                        <td><code>{Object}</code></td>
                                        <td>Объект с параметрами для запроса, на пример: <br> <code>{text: "Привет!"}</code> </td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> methodType</td>
                                        <td><code>{String}</code></td>
                                        <td>Один из способов отправки запроса: <br><code>["post", "get", "delete", "put"]</code></td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
easyVK.static.call("users.get", {
    user_ids: ["1", "156"]
}).then((vkr) => {
    console.log(vkr.response[0].id); // 1
}, (e) => {console.log(e);});
                                </code></pre>
                            </div>
                            <!-- end col -->
                        </div>

                        <div class="row">
                            <div class="col-md12">
                                <h4 id="line3_2">static.urlencode(...)</h4>
                                <p>
                                    Данный метод сериализует объект в строку как параметры в URL для запроса. <br>
                                    Все очень просто.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>String</code></td>
                                        <td>Возвращает объект, сериализованный в строку. Пример: <code class="language-js">"foo=bar&amp;foo2=barNew"</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> object</td>
                                        <td><code>{Object}</code></td>
                                        <td>Объект который нужно сериализовать, максимум 1 уровень.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
const request = require("request");
const easyVK = require("easyvk");

let objGetData = {
    message: "Привет",
    user_id: "356607530",
    access_token: "ваш_токен",
    v: "5.73"
}

let url = "https://api.vk.com/method/messages.send?";

url += easyVK.static.urlencode(objGetData);

request.get(url, (err, res) => {
   if (err) throw err;
   console.log(res.body); 
});
                                </code></pre>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line3_3">static.isObject(...)</h4>
                                <p>
                                    Данный метод проверяет, что переменная <code>n</code> - это объект. <br>
                                    Написана была при разработке EasyVK для удобства и не более. 
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Boolean}</code></td>
                                        <td>Является ли переменная объектом <code>{}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> n</td>
                                        <td><code>{*}</code></td>
                                        <td>Переменная, которую нужно проверить на принадлежность к объектам.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers" ><code class="language-js">
console.log(easyVK.static.isObject({
    some: "false"
})); // true

console.log(easyVK.static.isObject(false)); // false
console.log(easyVK.static.isObject(1)); // false
console.log(easyVK.static.isObject(easyVK)) // false (AsyncFunction)
console.log(easyVK.static.isObject(easyVK.static)) // false (Function)
console.log(easyVK.static.isObject(new Object())) // true
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line3_4">static.isString(...)</h4>
                                <p>
                                    Данный метод проверяет, что переменная <code>n</code> - это строка. <br>
                                    Написана была при разработке EasyVK для удобства и не более. 
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Boolean}</code></td>
                                        <td>Является ли переменная строкой <code>String</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> n</td>
                                        <td><code>{*}</code></td>
                                        <td>Переменная, которую нужно проверить на принадлежность к строкам.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
console.log(easyVK.static.isString({
    some: "false"
})); // false

console.log(easyVK.static.isString(false)); // false
console.log(easyVK.static.isString(1)); // false
console.log(easyVK.static.isString(easyVK)); // false
console.log(easyVK.static.isString(() => {})); // false
console.log(easyVK.static.isString(`${easyVK.version} - is a current version`)); // true
console.log(easyVK.static.isString("")); // true
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line3_5">static.checkJSONErrors(...)</h4>
                                <p>
                                    Данная функция проверяет ответ сервера ВКонтакте на ошибки. <br>
                                    То есть, на пример - сервер ответил не JSON ответом - выйдет ошибка, что <code>unexpected value {val} in JSON object at {pos} position</code>, не совсем точно, но приблизительно так. Это может произойти в любой момент. <br>
                                    Также эта функция проверяет ваш запрос на ошибки, и если сервер ответил с JSON, что произошла ошибка, эта функция вернет <code>false</code>. В случае успешного выполнени запроса, вернется объект (уже спарсенный JSON) ответа ВКонтакте. На примере будет показано более наглядно.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Object}</code> или <code>{Boolean}</code></td>
                                        <td>Объект JSON-ответ сервера, или, если произошла ошибка, значение <code>false</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> vkr</td>
                                        <td><code>{String}</code></td>
                                        <td>Строка с ответом сервера ВКонтакте VKResponse</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> reject</td>
                                        <td><code>{Function}</code></td>
                                        <td><code>Reject</code> функция, котора вызовется в случае возникновения ошибки. Эта функция первым параметром получает описание ошибки.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                А данном примере делается запрос на сервер ВК, но из-за слэша после названия метода, сервер ответит нам HTML документом, в котором будет написано <code>403 Forbidden</code>. <br>
                                Там нет JSON, поэтому произойдет ошибка.
                                <pre class="line-numbers"><code class="language-js">
const easyVK = require("easyvk");
const request = require("request");

let url = "http://api.vk.com/method/users.get/?user_ids=1&amp;v=5.73";
request.get(url, (err, res) => {
    if (err) throw err;
    
    let json = easyVK.static.checkJSONErrors(res.body, (err) => {
        console.log(err);
    });

    if (json) {
        console.log(json.response[0].id); // не выведется, произойдет ошибка
    } else {
        console.log("invalid json", res.body);
    }
});
                                </code></pre>
                                <p>
                                    Применяйте этот метод только в тех случаях, когда вы точно уверены, что сервер должен вернуть JSON. В остальных случаях используйте собственные решения.
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line3_6">static.checkErrors(...)</h4>
                                <p>
                                    Данная функция проверет на ошибки ваш запрос. Когда сервер ВКонтакте отвечает нам с валидным JSON, в котором говорится, что в запросе имеется ошибка, или, на пример, пользователь заблокирован, а вы пытаетесь получить информацию о нем, эта функция вернет эту ошибку. Она настроена под все виды ошибок запросов, в том числе, и под ошибку капчи: когда запрос требует подтверждения капчей.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{String}</code></td>
                                        <td>Описание ошибки запроса, на пример: нужен код подтверждения авторизации для двухфакторной проверки.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> vkr</td>
                                        <td><code>{Object}</code></td>
                                        <td>Объект ответа сервера Вконтакте, уже спарсенный JSON</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
const easyVK = require("easyvk");
const request = require("request");

let url = "http://api.vk.com/method/users.get?user_ids=-1&amp;v=5.73";
request.get(url, (err, res) => {
    if (err) throw err;

    if (!res.body) res.body = "{}";

    // Вот тут аккауратней. 
    // Мы делаем запрос такой, что точно уверены в нем
    let vkr = JSON.parse(res.body); 
    
    let vkErr = easyVK.static.checkErrors(vkr);
    
    if (vkErr) {
        throw new Error(vkErr); // Выведится ошибка Invalid user id
    } else {
        console.log(vkr.response[0].id);
    }
});
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="line3_7">static.encodeHTML(...)</h4>
                                <p>
                                    Данный метод декодирует все символы вроде <code>&amp;amp;</code>, <code>&amp;gt;</code> в обычный символ <code>&amp;</code>, <code>&gt;</code>
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{String}</code></td>
                                        <td>Декодированная строка в нормальный вид.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> str</td>
                                        <td><code>{String}</code></td>
                                        <td>Первоначальная строка в нечитаемом виде.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
let str = "Привет, Кирилл!&lt;br&gt;&lt;br&gt;";
str += "Я сегодня посмотрел твой доклад &amp;lt;&amp;quot;Экосистема процессора&amp;quot;&amp;gt;.";
str += " &lt;br&gt;&lt;br&gt;Ты знаешь, мне не понравилось. Пойду поем m&amp;amp;m&amp;#039;s"

console.log(str); // Некрасиво
console.log(easyVK.static.encodeHTML(str)); // Красиво
                                </code></pre>
                            </div>
                        </div>
                    </section>
                    <!-- end section -->

                    <section id="line4" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Streaming API <a href="#top">#наверх</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <!-- end col -->

                            <div class="col-md-12">
                                <p>
                                    <q>
                                        <b>Streaming API</b> — это инструмент для получения публичных данных из ВКонтакте по заданным ключевым словам. 
                                    </q>
                                </p>
                                <p>
                                    То есть проще говоря: вы можете по определенным правилам искать информацию в ВК в режиме реального времени (ну почти). <br>
                                    Когда кто-то выкладывает пост со словом <b>кот</b>, ваш сервер может получить этот пост благодаря Streaming API сразу после того, как пост опубликован. Такие дела. <br>
                                    Это работает так же для комментариев. <br>
                                    Информация поступает к вам не из определенной группы, а из общей массы событий ВКонтакте. Подробнее о самом Streaming API вы можете почитать <a href="https://vk.com/dev/streaming_api" title="Streaming API" target="_blank">здесь</a> (для всех), а вот <a href="https://vk.com/dev/streaming_api_docs" target="_blank" title="Техническая документация Streaming API">тут</a> для тех, кто хочет ознакомиться с технической стороной вопроса.
                                </p>
                                <p>
                                    EasyVK поддерживает Streaming API в виде отдельной утилиты. Вы можете использовать его как после авторизации, так и без. Ниже описана инструкция по использованию методов Streaming API и приведен пример использования. 
                                </p>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="streaming_connect">streamingAPI.connect</h4>
                                        <p>
                                            Для того, чтобы создать стрим, необходимо подключиться к серверу ВК по протоколу <code>WSS://</code>, этим вы не занимаетесь, вам нужно всего лишь ввести параметры подключения, а именно - параметры вашего приложения.
                                            После успешного подключения вы получите первым параметром объект <code>stream</code>: теперь вы имеете доступ к настройкам вашего стрима, можете добавлять правила, удалять, слушать события и так далее. Разберем подробнее ниже
                                        </p>
                                        <p>
                                            Для того, чтобы создать свое приложение, перейдите по <a href="https://vk.com/editapp?act=create" target="_blank" title="Создать приложение">этой ссылке</a> и выберите тип <b>Standalone</b>.
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>{Promise}</code>, в функцию <code>resolve</code> передается объект <code>stream</code></td>
                                            </tr>
                                            <tr>
                                                <td><code>@param</code> application</td>
                                                <td><code>{Object}</code></td>
                                                <td>Настройки приложения, какие в него параметры вводить - смотрите ниже</td>
                                            </tr>
                                        </table>
                                        <p>
                                            В функцию вы должны передать объект <code>application</code> с настройками вашего приложения.
                                        </p>
                                        <table>
                                            <caption>Настройки приложения. Параметры</caption>
                                            <tr>
                                                <th>Параметр</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>clientSecret</code></td>
                                                <td>Строка  ключ вашего приложения, берется из настроек приложения.</td>
                                            </tr>
                                            <tr>
                                                <td><code>clientId</code></td>
                                                <td>ID вышего приложения.</td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({
    clientSecret: "ваш_секретный_ключ_приложения",
    clientId: "id_вышего_приложения"
}).then((stream) => {
    
}).catch(errHandler);
                                        </code></pre>
                                        <p>
                                            Вот и все. Теперь вы создали свой стрим. Далее пойдет настройка правил и прослушивание событий. 
                                        </p>
                                        <p>
                                            Пример для тех, кто не нуждается в авторизации (по сути она и не нужна).
                                        </p>
                                        <pre class="line-numbers"><code class="language-js">
easyVK.streamingAPI.connect(/*...*/) 
// Без авторизации. Работает аналогично, но за одним исключением - 
// для такого способа не будет работать debugger, будет исправлено в версии 0.5
// обычно debugger тут не нужен
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_addrule">stream.addRule(...)</h4>
                                        <p>
                                            Данный метод добавляет правило в общий список правил.
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>Promise</code></td>
                                            </tr>
                                            <tr>
                                                <td><code>@param</code> tag</td>
                                                <td><code>{String}</code></td>
                                                <td>Тег правила, ключ правила.</td>
                                            </tr>
                                            <tr>
                                                <td><code>@param</code> value</td>
                                                <td><code>{String}</code></td>
                                                <td>Само правило.</td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application params*/}).then(stream => {
    stream.addRule("cats", "кот -собака").then((vkr) => {
        console.log(vkr);
    }, errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_deleterule">stream.deleteRule(...)</h4>
                                        <p>
                                            Данный метод удаляет правило из общего списка правил.
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>Promise</code></td>
                                            </tr>
                                            <tr>
                                                <td><code>@param</code> tag</td>
                                                <td><code>{String}</code></td>
                                                <td>Тег правила, ключ правила.</td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application*/}).then(stream => {
    stream.addRule("cats", "кот -собака").then((vkr) => {
        stream.deleteRule("cats").then((vkr_deleted) => {
            console.log(vkr_deleted);
        }, errHandler);
    }, errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_initrules">stream.initRules(...)</h4>
                                        <p>
                                            Вместо того, чтобы использовать методы вроде <a href="#stream_deleterule">stream.deleteRule()</a> и <a href="#stream_addrule">stream.addRule()</a>, я рекомендую использовать только этот метод. <br>
                                            Этот метод является чем-то вроде <b>менеджера ваших правил</b>. Вы прописываете все правила в одном объекте и каждый раз, когда что-то в нем изменяете, все изменения применяются к стриму (только после перезапуска). <br>
                                            То есть: если вы удалили правила из объекта, они удалятся из стрима. Если изменили правило, оно изменится. В конце вы получите лог объект изменений. В нем будут вынесены все правила, которые вы изменили/удалили/добавили. Удобная штука, однако.
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> вы получаете изменения, которые вступли в силу.</td>
                                            </tr>
                                            <tr>
                                                <td><code>@param</code> rules</td>
                                                <td><code>{Object}</code></td>
                                                <td>Объект с правилами где пара ключ => значение - это пара tag => rule.</td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application*/}).then(stream => {
    stream.initRules({
        "cats": "кот",
        "dogs": "собака пес щенок"
    }).then((log) => {
        console.log(log);
    }).catch(errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_getrules">stream.getRules(...)</h4>
                                        <p>
                                            Если вы хотите получить список всех правил стрима, можете использовать этот метод.
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> вы получаете список всех правил стрима <code>stream</code></td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application*/}).then(stream => {
    stream.initRules({
        "cats": "кот",
        "dogs": "собака пес щенок"
    }).then((log) => {
        stream.getRules().then((rules) => {
                console.log(rules);
        }, errHandler);
    }).catch(errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_deleteallrules">stream.deleteAllRules(...)</h4>
                                        <p>
                                            Данный метод удаляет все правила из общего списка правил стрима <code>stream</code>
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> вы получаете ответ сервера, если все правила удалились.</td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application*/}).then(stream => {
    stream.initRules({ // Создаем правила
        "cats": "кот",
        "dogs": "собака пес щенок"
    }).then((log) => {
        stream.deleteAllRules().then(() => { // удаляем
            stream.getAllRules((rules) => { // получаем хук
                console.log(rules);
            }, errHandler);
        }, errHandler);
    }).catch(errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_close">stream.close(...)</h4>
                                        <p>
                                            Данный метод закрывает подключение WebSocket и вызывает событие <code>failure</code>
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Характеристика</th>
                                                <th>Значение</th>
                                                <th>Описание</th>
                                            </tr>
                                            <tr>
                                                <td><code>@returns</code></td>
                                                <td><code>{Promise}</code></td>
                                                <td>Стандартный объект <code>Promise</code></td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application*/}).then(stream => {
    stream.initRules({ // Создаем правила
        "cats": "кот",
        "dogs": "собака пес щенок"
    }).then((log) => {
        stream.deleteAllRules().then(() => { //удаляем
            stream.close(); // Нуивсетут 
            // Даааа. Жоска
        }, errHandler);
    }).catch(errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4 id="stream_events">События (Events)</h4>
                                        <p>
                                            После инициализации правил и установки их, вы можете получать данные со стрима. На стрим поступают посты, комментарии и репосты (share). Вы можете слушать все эти события и создавать какую-то статистику... и вообще, это не мое дело. В общем, у вас есть возможность получать данные со стрима.
                                        </p>
                                        <p>
                                            Так как объект <code>stream</code> наследует все методы и свойства объекта <a href="https://nodejs.org/api/events.html" target="_blank">EventEmitter</a>, то в него включаются методы <a href="https://nodejs.org/api/events.html#events_emitter_on_eventname_listener" target="_blank">.on()</a> и <a href="https://nodejs.org/api/events.html#events_emitter_emit_eventname_args" target="_blank">.emit()</a>. Эти методы служат только для того, чтобы слушать событие и создавать его. И так, какие бывают события?
                                            На данный момент это все события из таблицы ниже, посмотрите.
                                        </p>
                                        <table>
                                            <tr>
                                                <th>Событие</th>
                                                <th>Описание события</th>
                                            </tr>
                                            <tr>
                                                <td><code>post</code></td>
                                                <td>Возникает, когда пользователь или группа опубликовал(а) запись на своей стене.</td>
                                            </tr>
                                            <tr>
                                                <td><code>comment</code></td>
                                                <td>Возникает, когда пользователь или группа комментирует чью-то запись (как я понял, только запись, но это не точно).</td>
                                            </tr>
                                            <tr>
                                                <td><code>share</code></td>
                                                <td>Возникает, когда пользователь или группа подилились на своей стене записью.</td>
                                            </tr>
                                            <tr>
                                                <td><code>failure</code></td>
                                                <td>Возникает, когда возникает критическая ошибка на сервере или, когда подключение разорвано/закрыто.</td>
                                            </tr>
                                            <tr>
                                                <td><code>error</code></td>
                                                <td>Возникает, когда происходит какая-то ошибка при подключении или во время передачи информации.</td>
                                            </tr>
                                        </table>
                                        <h4>Пример использования</h4>
                                        <pre class="line-numbers"><code class="language-js">
vk.streamingAPI.connect({/*application*/}).then(stream => {
    stream.initRules({
        "cats": "кот"
    }).then(log => {
        
        stream.on("post", (event) => { // Слушаем все события post
            console.log(event.event_url);
        });

    }).catch(errHandler);
}).catch(errHandler);
                                        </code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <section class="section" id="longpollapi">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">User LongPoll API <a href="#top">#наверх</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <p>
                                    ВКонтакте предоставляет возможность прослушивания событий средствами длительный опросов (запросов) - LongPoll, не будем их ни в чем обвинять, думаю, они знают, что делают. EasyVK поддерживает эту платформу точно также как и <a href="#line4">Streaming API</a>, в виде отдельной утилиты, крепко связанной с объектом EasyVK. <br>
                                    Итак, чтобы понять что это такое, обратимся к Википедии. <br><br>
                                    <q style="display: block;">
                                        Long Polling — это технология, которая позволяет получать данные о новых событиях с помощью «длинных запросов». Сервер получает запрос, но отправляет ответ на него не сразу, а лишь тогда, когда произойдет какое-либо событие (например, придёт новое сообщение), либо истечет заданное время ожидания.
                                    </q><br>
                                    Думаю все понятно. Все это вам вряд ли понадобится, но для ознакомления сойдет.
                                    В EasyVK все это намного проще. Документация ниже.
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="longpoll_connect">longpoll.connect(...)</h4>
                                <p>
                                    Эта функция подключается к серверу LongPoll (user), а затем возвращает в функцию <code>resolve</code> объект <code>LongPollConnection</code>.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> передается объект подключения - <code>LongPollConnection</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> params</td>
                                        <td><code>{Object}</code></td>
                                        <td>Настройки подключения LongPoll на разных этапах подключения. Обычно этот объект не нужен, разбираю его более подробно в гайде <a href="#longpoll_connect_full">longpoll.connect() (Подробно)</a></td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.longpoll.connect().then((connection) => {
    console.log(connection);
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="longpollconnection_addeventcodelistener">connection.addEventCodeListener(...)</h4>
                                <p>
                                    Так как в User LongPoll API все события приходят в виде массива, а названия событий - это по сути числа, не было смысла добавлять все события из LongPoll, поэтому я добавил только основные <a href="#longpoll_events">события</a>. А все остальное вы можете прослушивать с помощью дополнения. Возможно, в будущем, этот метод немного изменится и все же все события будут обозначены, но пока что так. Не расстраивайтесь. Все нормально.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, <code>resolve</code> не вызывается (поправьте меня, если это неправильно).</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> code</td>
                                        <td><code>{Number}</code></td>
                                        <td>Число-код события, список всех кодов событий можно посмотреть <a href="https://vk.com/dev/using_longpoll?f=3.%20%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9" target="_blank">здесь</a>.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> handler</td>
                                        <td><code>{Function}</code></td>
                                        <td>callback-функция, которая будет вызываться, когда будет происходит событие с кодом <code>code</code></td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
connection.addEventCodeListener(3, (event) => { 
    // Сброс флагов сообщения, на пример: прочитано
    console.log(event);
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="longpollconnection_close">connection.close(...)</h4>
                                <p>
                                    Этот метод разрывает соединение с сервером LongPoll и вызывает событие <code>close</code>
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> ничего не возвращается</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.longpoll.connect().then(connection => {
    connection.close(); // Закрываем соединение.
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="longpollconnection_debug">longpoll.debug(...)</h4>
                                <p>
                                    Этот метод позволяет добавить debug-функцию, в которую будут передаваться все ответы сервера ВК, которые касаются только подключения к LongPoll.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>LongPollConnection</code> или <code>false</code></td>
                                        <td>Если удачно добавили функцию, то вернется объект <code>LongPollConnection</code>, в противном случае - вернется <code>false</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> debugg</td>
                                        <td><code>{Function}</code></td>
                                        <td>Функция-дебаггер, в нее будут передаваться все ответы.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.longpoll.connect().then(connection => {
    connection.debug((vkr) => {
        console.log(vkr); // не JSON, обычная строка ответа
    }).on("message", (msg) => {
        console.log("MESSAGE", msg);
    });
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="longpoll_connect_full">longpoll.connect(...) (full)</h4>
                                <p>
                                    Это более подробная документация метода <a href="#longpoll_connect">longpoll.connect()</a>. <br>
                                    Как уже говорилось, метод принимает объект <code>params</code>. Сейчас я его и буду описывать. <br>
                                    В этом объекте главные два свойства - объекты: <code>forGetLongPollServer</code>, <code>forLongPollServer</code>
                                </p>
                                <p>
                                    <code>forGetLongPollServer</code> - это объект с настройками для первого запроса на сервер - запроса на метод <a href="https://vk.com/dev/messages.getLongPollServer" target="_blank">messages.getLongPollServer</a>. Все параметры, которые будут в этом объекте будут применены к этому запросу.
                                </p>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.longpoll.connect({
    forGetLongPollServer: {
        lp_version: "2",
        need_pts: "1"
    }
}).then(connection => {
    console.log(connection.config.responseGetServer.response.pts);
}).catch(errHandler);
                                </code></pre>
                                <p>
                                    <code>forLongPollServer</code> - это параметры для запроса на каждый Poll к серверу. Тут вы можете установить на пример, параметр <code>wait</code> на свой вкус<br>
                                    Подробней об этих параметрах можно почитать <a href="https://vk.com/dev/using_longpoll?f=1.%20%D0%9F%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5" target="_blank">тут</a>
                                </p>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.longpoll.connect({
    forLongPollServer: {
        wait: "1" // Дудосим крч :D
    }
}).then(connection => {
    console.log(connection.config);
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="longpoll_events">События (Events)</h4>
                                <p>
                                    Так как LongPoll изначально предназначен для прослушивания событий, вы можете это делать очень легко в EasyVK. Также, как и <a href="#streaming_api">Streaming API</a>, объект <code>LongPollConnection</code> наследует все свойства и методы от объекта <a href="https://nodejs.org/api/events.html" target="_blank">EventEmitter</a>. Таким образом вы можете слушать события сервера.
                                    Посмотрите на таблицу поддерживаемых событий.
                                </p>
                                <table>
                                    <tr>
                                        <th>Код события</th>
                                        <th>Событие</th>
                                        <th>Описание события</th>
                                    </tr>
                                    <tr>
                                        <td><code>4</code></td>
                                        <td><code>message</code></td>
                                        <td>Возникает, когда пользователь отправил сообщение или ему отправили сообщение.</td>
                                    </tr>
                                    <tr>
                                        <td><code>8</code></td>
                                        <td><code>friendOnline</code></td>
                                        <td>Возникает, когда друг пользователя стал онлайн.</td>
                                    </tr>
                                    <tr>
                                        <td><code>9</code></td>
                                        <td><code>friendOffline</code></td>
                                        <td>Возникает, когда друг пользователя стал оффлайн.</td>
                                    </tr>
                                    <tr>
                                        <td><code>51</code></td>
                                        <td><code>editChat</code></td>
                                        <td>Возникает, когда пользователь или кто-то меняет настройки беседы.</td>
                                    </tr>
                                    <tr>
                                        <td><code>61</code></td>
                                        <td><code>typeInDialog</code></td>
                                        <td>Возникает, когда пользователь набирает сообщение в <b>диалоге</b> с пользователем.</td>
                                    </tr>
                                    <tr>
                                        <td><code>62</code></td>
                                        <td><code>typeInChat</code></td>
                                        <td>Возникает, когда пользователь набирает сообщение в <b>беседе</b>.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.longpoll.connect().then(connection => {
    connection.on("message", (msg) => {
        console.log(msg);
    });
}).catch(errHandler);
                                </code></pre>
                                <p>
                                    Остальные события, которые вы хотите прослушивать, вы можете добавлять через метод <a href="#longpollconnection_addeventcodelistener">connection.addEventCodeListener()</a>
                                </p>
                            </div>
                        </div>
                        <!-- end row -->
                    </section>
                    <section class="section" id="botslongpollapi">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Bots LongPoll API <a href="#top">#наверх</a><hr></h2>
                            </div>
                        </div>    
                        <div class="row">
                               <div class="col-md-12">
                                   <p>С недавних пор ВКонтакте добавили поддержку LongPoll для групп. То есть теперь все события, которые есть для Callback API, будут работать для LongPoll, но для Bots LongPoll. Это сильно упрощает создание ботов. Плюс, как-никак, LongPoll работает быстрее, чем Callback API, что делает его теперь лидиром в платформах ВКонтакте для ботов. </p>
                                   <p>
                                       EasyVK поддерживает Bots LongPoll API с версии 0.4. <br>
                                       Все методы, за исключением <a href="#longpollconnection_addeventcodelistener">connection.addEventCodeListener()</a>, повторяются из <a href="#longpollapi">User LongPoll API</a>. Также Bots LongPoll API отличается от User LongPoll API структурой событий, поэтому события, который есть в обычном LongPoll API не будут работать для этого, названия будут отличатся + формат ответа.
                                   </p>
                                   <h4>Пример использования</h4>
                                   <pre class="line-numbers"><code class="language-js">
vk.bots.longpoll.connect({
    forGetLongPollServer: {
        group_id: "1"
    }
}).then(connection => {
    connection.debug(vkr => {
        console.log(vkr);
    }).on("message_new", (msg) => {
        console.log(msg);
    });
}).catch(errHandler);
                                   </code></pre>
                               </div>
                           </div>
                           <div class="row">
                                  <div class="col-md-12">
                                      <h4 id="botslongpollapi_events">События (Events)</h4>
                                      <p>
                                          Структура событий в Bots LongPoll API отличается от обычных, почитать о них можно <a href="https://vk.com/dev/bots_longpoll?f=2.1.%20%D0%A2%D0%B8%D0%BF%D1%8B%20%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9" target="_blank">здесь</a>. Но ловля событий не отличается.
                                      </p>
                                      <h4>Пример использования</h4>
                                      <pre class="line-numbers"><code class="language-js">
vk.bots.longpoll.connect({
    forGetLongPollServer: {
        group_id: "1"
    }
}).then(connection => {
    connection.on("wall_reply_new", (comment) => {
        console.log(comment);
    });
}).catch(errHandler);
                                      </code></pre>
                                      <p>
                                          Вот и все.
                                      </p>
                                  </div>
                              </div>   
                    </section>
                    <section id="callbackapi" class="section">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Callback API <a href="#top">#наверх</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <p>
                                    Callback API поддерживается в EasyVK с релиза 0.3. С тех пор Callback API был рефакторен 2 раза и теперь работает стабильно. Тесты проходили на сервере хостинга <a href="https://heroku.com/">Heroku</a>. <br>
                                    <h3>Что это такое?</h3>Callback API в первую очередь позволяет прослушивать события вашей группы: комментарии, записи, вступления в группу, различные другие взаимодействия, также еще сообщения, и прочее. Все события вы можете посмотреть на странице управления вашим сообществом. А подробнее о том, как можно настроить Callback API читайте на <a href="https://vk.com/dev/callback_api" target="_blank">этой</a> странице.
                                </p>
                                <p>
                                    Я же вам всего лишь подскажу как это использовать на уже настроенном сервере. <br>
                                    Для работы с Callback API необходимо будет либо покупать сервер, либо где-то его взять, в качестве примеров хостингов могу предложить <a href="https://heroku.com/" target="_blank">Heroku</a>, <a href="https://aws.amazon.com/ru/?nc2=h_lg" target="_blank">AWS</a>, <a href="https://cloud.google.com/compute/" target="_blank">Google Cloud</a>. Конечно эти сервисы не полностью бесплатные, все-таки VPS. На платной основе имеется <a href="https://selectel.ru/" target="_blank">Selectel</a>, а для углубленного поиска воспользуйтесь серсисом <a href="https://poiskvps.ru/" target="_blank">poiskvps.ru</a>
                                </p>
                                <p>
                                    Вот собственно и все. Настраиваете сервер, ставите <a href="https://nodejs.org">node.js</a>, <a href="https://npmjs.org">npm</a>, <a href="#top">easyvk</a>, а далее следуете документации ниже.
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="callbackapi_listen">callbackAPI.listen(...)</h4>
                                <p>
                                    Callback API работает по принципу "слушаю". Вы устанавливаете сервер, пишите софт и после чего сервер принимает <code>POST</code> запросы от сервера VK. VK обычно присылает запросы разного характера: <a href="#callbackapi_events">события</a>, подтверждение и другие. Ваш сервер все это слушает и на основе событий выполняет действия. Какие события вы хотите слушать - дело ваше, это настраивается в настройках API (управление группой).
                                    Callback API использует для создания сервера модуль <a href="https://npmjs.org/package/express" target="_blank">express</a> и стандартный модуль <a href="https://nodejs.org/api/http.html" target="_blank">http</a>.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> передается объект <code>cb</code>, там хранятся переменные <code>connection</code>, <code>app</code> и <code>server</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> cbParams</td>
                                        <td><code>{Object}</code></td>
                                        <td>Настройки группы, список групп, события которых нужно слушать. Ну и порт сервера. Подробнее описано ниже.</td>
                                    </tr>
                                </table>
                                <p>
                                    Чтобы слушать события вы должны вызвать этот метод с одним объектом <code>cbParams</code>, в свойства которого должны ввести одну из следующих настроек.
                                </p>
                                <table>
                                    <tr>
                                        <th>Параметр</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>groups</code></td>
                                        <td>Массив групп, где каждый элемент - объект <code>Group</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>groupId</code></td>
                                        <td>ID вашей группы, этот ID вы берете из инструкций по подтверждению сервера (управление группой -> API -> Callback API)</td>
                                    </tr>
                                    <tr>
                                        <td><code>confirmCode</code></td>
                                        <td>Код подтверждения, который должен вернуть сервер во время запроса на подтверждение. Берется также, как и <code>groupId</code> из настроек подключения сервера (управление группой)</td>
                                    </tr>
                                    <tr>
                                        <td><code>secret</code></td>
                                        <td>Секретный ключ для запросов. Если запрос не имеет ключа, возникнет ошибка. По сути это пароль для доступа к вашему Callback серверу, вы сами его устанавливаете в настройках группы. Его наличие необязательно.</td>
                                    </tr>
                                    <tr>
                                        <td><code>port</code></td>
                                        <td>HTTP порт для сервера, рекомендую устанавливать <code class="language-js">process.env.PORT || 3000</code></td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <p>
                                    Ну а теперь для понимания - пример.
                                </p>
                                <pre class="line-numbers"><code class="language-js">
vk.callbackAPI.listen({
    groupId: "111111",
    secret: "my_password_group",
    confirmCode: "confirm_code_from_setting_group",
    port: (process.env.PORT || 3000)
}).then((cb) => {
    console.log(cb.web.app) // express app
    console.log(cb.web.server) // http server
    console.log(cb.connection) // connection (по сути это слушатель событий)
}).catch(errHandler);
                                </code></pre>
                                <p>
                                    Для нескольких групп
                                </p>
                                <pre class="line-numbers"><code class="language-js">
vk.callbackAPI.listen({
    groups: [{
        groupId: "111",
        confirmCode: "confirm_code_from_settings_group",
        secret: "my_password_group"
    }, {
        groupId: "1112",
        confirmCode: "confirm_code_from_settings_group",
        secret: "my_password_group"
    }],
    port: (process.env.PORT || 3000)
}).then((cb) => {}).catch(errHandler);
                                </code></pre>
                                <p>
                                    Для безопасности и для стойкости от утечки данных ваших пользователей рекомендую устанавливать пароль для запросов (лучше всего еще и md5), хотя по умолчанию в этом нет необходиомости.
                                </p>
                                <p>
                                    Ради честности, я напомню, что для Callback API не требуется авторизация, хотя, возможно, вы заметили, что используется переменная <code>vk</code> для прослушивания. В общем есть еще более простой метод.
                                </p>
                                <pre class="line-numbers"><code class="language-js">
easyVK.callbackAPI.listen(/*....*/).catch(errHandler);
                                </code></pre>
                                <p>
                                    Тогда смысл использования объекта анициализации отпадает. Я рекомендую использовать именно этот вариант, потому что необходимость в авторизации отсутствует, но так как может измениться все, что угодно, я все-таки оставил Streaming API в объекте инициализации. Тем не менее, второй способ не означает, что Streaming API - статичная утилита. Нет. Просто у нее другие предназначения. Вот и все.
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="callbackapi_events">События (Events)</h4>
                                <p>
                                    Как и в <a href="#longpollapi">LongPoll</a>, в Callback API имеются события, прослушивать их можно таким же способом. Через переменную <code>connection</code>. Список событий вы можете посмотреть на <a href="https://vk.com/dev/groups_events" target="_blank">этой</a> странице (официальная документация).
                                </p>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.callbackAPI.listen({
    groupId: "111111",
    secret: "my_password_group",
    confirmCode: "confirm_code_from_setting_group",
    port: (process.env.PORT || 3000)
}).then((cb) => {
    cb.connection.on("message_new", (event) => {
        console.log(event);
        /*
            Чтобы узнать какой группе принадлежит событие, 
            используйте это
        */
        console.log(event.group_id);
    });
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                    </section>
                    <section class="section" id="files">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Файлы (uploader) <a href="#top">#наверх</a><hr></h2>
                                <p>
                                    С обновления 0.4 в EasyVK появилась удобная утилита для загрузки файлов. Конечно, это не ново все и вообще в принципе ничего сложного нет в этом, но я считаю, что в EasyVK должно быть такое сразу без добавок. 
                                </p>
                                <p>
                                    Итак, если у вас есть неободимость загрузить на сервер, на пример, аватарку, вы можете получить url для загрузки на сервер ВКонтакте одним из предложенных способов на <a href="https://vk.com/dev/upload_files" target="_blank">этой</a> странице. На этой странице подробно описана загрузка файлов для рекламы, фотографий сообщений и вообще много чего. В основном все сводится к одному - получению адреса сервера для загрузки файла(ов).
                                    <br>
                                    Об этом ниже.
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="files_getuploadurl">uploader.getUploadURL(...)</h4>
                                <p>
                                    Данный метод позволяет получить <code>upload_url</code> для дальнейшей загрузки на сервер. Ничего сложного, но удобно.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, в фукцию <code>resolve</code> вы получаете переменную <code>upload_url</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> method_name</td>
                                        <td><code>{String}</code></td>
                                        <td>Метод, обращаясь к которому вы хотите получить URL для загрузки файла.</td>
                                    </tr
                                    <tr>
                                        <td><code>@param</code> params</td>
                                        <td><code>{Object}</code></td>
                                        <td>Параметры для запроса на метод <code>method_name</code>, необязательны.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> returnAll</td>
                                        <td><code>{Boolean}</code></td>
                                        <td>Нужно ли возвращать целый ответ ВКонтакте или только url. По умолчанию - <code>false</code></td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.uploader.getUploadURL("photos.getWallUploadServer", {
    group_id: "153044419"
}).then((url) => {
    console.log(url);
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="files_uploadfile">uploader.uploadFile(...)</h4>
                                <p>
                                    Данный метод позволяет загрузить файл на указанный url.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объкт <code>Promise</code>, в фукцию <code>resolve</code> вы получаете ответ сервера после загрузки.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> <br> url</td>
                                        <td><code>{String}</code></td>
                                        <td>URL для загрузки, обычно вы его получаете из какого-либо метода GET.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> <br> filePath</td>
                                        <td><code>{String}</code></td>
                                        <td>Путь к файлу, который вы хотите загрузить (НЕ <code>Buffer</code>!).</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> fieldName</td>
                                        <td><code>{String}</code></td>
                                        <td>Имя поля, которым будет именоваться ваш файл в <code>POST</code> запросе. На пример: <code>photo</code>. Обычно как именно необходимо именовывать <code>field</code> написано в документации по загрузке файлов, ищите там.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> paramsUpload</td>
                                        <td><code>{Object}</code></td>
                                        <td>Параметры для загрузки. Эти параметры отправятся вместе с файлом в запросе к серверу. Это бывает необходимо, используйте.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.uploader.getUploadURL("photos.getWallUploadServer", {
    group_id: "153044419"
}).then((url) => {
    // Путь к файлу указан так: текущая_дериктория + /images/photo.jpg
    
    /*
        + node_modules
        + images
            - photo.jpg        
        - index.js
        - package.json
        - Procfile
    */
    let path = __dirname + "/images/photo.jpg";
    vk.uploader.uploadFile(url, path, "photo").then((vkr) => {
        console.log(vkr);
    }, errHandler);
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                    </section>
                    <section class="section" id="helpers">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Helpers (Помощники) <a href="#top">#наверх</a><hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <p>
                                    Хелперы - это удобный инструмент для решения повседневных задач. Пока что хелперы не имеют много возможностей, так как сейчас список возможностей хелперов не пополнялся и упор больше шел на возможности других утилит. Но в версии 0.5 будет большое обновление для хелперов, так что ждать долго не придется.
                                </p>
                                <p>
                                    Тем не менее, хелперы имеют в комплекте несколько решения для повседневных задач. О них пойдет речь ниже.
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="helpers_getallfriendslist">helpers.getAllFriendsList(....)</h4>
                                <p>
                                    Данный метод позволяет получить список всех друзей пользователя.
                                    Практичность его под сомнением, но я решил его оставить, так как мало ли что может произойти в ограничениях ВКонтакте, а тут метод уже есть готовый. Надо будет просто его переписать чуток и делов. Поэтому рекомендую его использовать.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный обект <code>Promise</code>, в <code>resolve</code> функцию передается массив <code>friends</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> user_id</td>
                                        <td><code>{Number}</code></td>
                                        <td>ID пользователя, список друзей которого вы хотите получить.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
let user_id = 1;
vk.helpers.getAllFriendsList(user_id).then((firiends) => {
    console.log(friends.length) // 0
}, errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="helpers_isfriend">helpers.isFriend(...)</h4>
                                <p>
                                    Данный метод проверяет, что пользователь <code>check_id</code> находится в друзьях у пользователя <code>friend_id</code>. Такие дела.
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> передается значение <code>Boolean</code> - проверка, что пользователь <code>check_id</code> в друзьях у пользователя <code>friend_id</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> friend_id</td>
                                        <td><code>{Number}</code></td>
                                        <td>ID пользователя, в списке друзей которого мы будем искать пользователя с ID <code>check_id</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> check_id</td>
                                        <td><code>{Number}</code></td>
                                        <td>ID пользователя, которого мы будем искать в друзьях у пользователя с ID <code>friend_id</code>. По умолчанию - это ID из вашей сессии, после авторизации пользователя.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.helpers.isFriend(1, 356607530).then((isFriend) => {
    console.log(isFriend) // false, это константа :D
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="helpers_userfollowed">helpers.userFollowed(...)</h4>
                                <p>
                                    Этот метод проверяет, что пользователь <code>follower_id</code> подписан на пользователя <code>user_id</code>
                                </p>
                                <table>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th>Значение</th>
                                        <th>Описание</th>
                                    </tr>
                                    <tr>
                                        <td><code>@returns</code></td>
                                        <td><code>{Promise}</code></td>
                                        <td>Стандартный объект <code>Promise</code>, в функцию <code>resolve</code> помещается значение <code>Boolean</code> - подписан ли пользователь <code>follower_id</code> на пользователя <code>user_id</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> follower_id</td>
                                        <td><code>{Number}</code></td>
                                        <td>ID предполагаемого подписика.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> user_id</td>
                                        <td><code>{Number}</code></td>
                                        <td>ID блогера, человек на которого подписываются (лол). По умолчанию - это ваш ID из сессии.</td>
                                    </tr>
                                    <tr>
                                        <td><code>@param</code> maximum</td>
                                        <td><code>{Number}</code></td>
                                        <td>Максимальное число подписчиков. Так как у пользователей может быть и по 100К подписчиков - нужны ограничения на количество подписчиков. Ведь это ж сколько запросов надо будет сделать... В общем: если вы поставили число 1, а у человека > 1 подписчиков, поиск не будет идти, даже не начнется.</td>
                                    </tr>
                                </table>
                                <h4>Пример использования</h4>
                                <pre class="line-numbers"><code class="language-js">
vk.helpers.userFollowed(1, 356607530).then(isFollower => {
    console.log(isFollower) // false
}).catch(errHandler);
                                </code></pre>
                            </div>
                        </div>
                    </section>
                    <section class="section" id="advices">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Советы / FAQ <a href="#top">#наверх</a><hr></h2>
                                <p>
                                    В данном разделе я поделюсь с вами советами по выполнению запросов. Тут вы может быть найдете что-то действительно полезное и нужное. Все эти вопросы создавались либо потому что они были интересны лично мне и я счел необходимым добавить объяснение в этот блок, либо потому что кто-то из активных пользователей задал мне его, а я в свою очередь, ответя на него, добавил сюда. Все просто.
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 id="advices_1">Синхронное выполнение?</h4>
                                <p>
                                    Этот вопрос часто возникает, ведь во время написания кода возникает много вложенностей и программист начинает путаться в коде, что за чем следует, где выход, где вход и т.д
                                    Безусловно, не все нужно делать синхронным, но и создание асинхронного кода вносит некоторое понимание в сути программы. Че тут. Просто приведу пример.
                                    <br>
                                    У вас появилась необходимость сделать условие, что-то вроде: если человек - друг этого человека, или он подписан на него, то сделай это. Вот как это выглядит в коде с асинхронным выполнением программы.
                                </p>

                                <pre class="line-numbers"><code class="language-js">

function ifBlock () {
    console.log("Вы добавили его в друзья!");
}

function elseBlock () {
    console.log(`Баллы не начислены, вы не добавили его в друзья! 
    Попробуйте еще раз...`);
}

vk.helpers.isFriend(1, 356607530).then(isFriend => {
    if (isFriend) ifBlock();
    else {
        vk.helpers.userFollowed(1, 356607530).then(isFollower => {
            if (isFollower) ifBlock();
            else elseBlock();
        }, errHandler);
    }
}).catch(errHandler);
                                </code></pre>
                                <p>
                                    Громоздго, не так ли (Я уверен, что вы может быть предложите вариант еще больше, или наобарот, еще меньше, более продуманный.. Но я не олимпиадник, сорян)? Можно проще, но уже сделать все запросы синхронно.
                                </p>
                                <pre class="line-numbers"><code class="language-js">
easyVK({/*...*/}).then(async (vk) => {
    
    let params = [1, 356607530];

    let isFriend = await (vk.helpers.isFriend(...params));
    let userFollowed = await (vk.helpers.userFollowed)(...params);
    
    if (isFriend || userFollowed) {
        console.log("Вы добавили его в друзья!");
    } else {
        console.log(`Баллы не начислены, вы не добавили его в друзья! 
        Попробуйте еще раз...`);
    }

}).catch(errHandler);
                                </code></pre>
                                <p>
                                    Вот еще пример
                                </p>
                                <pre class="line-numbers"><code class="language-js">
easyVK({/*...*/}).then(async vk => {
    
    let users = await (vk.call("users.get", {
        user_ids: "1, 457"
    }));

    console.log(users.response);

}).catch(errHandler);
                                </code></pre>
                                <p>
                                    В данном случае очень важно, чтобы <code>resolve</code> функция имела перед собой оператор <code>async</code>, Иначе вы получите ошибку <code>await is not defined</code>. Далее необходимо, чтобы была единая функция-catcher, которая будет ловить все ошибки, потому что используя await вы забираете эту возможность у метода. Ну и самое последнее - используйте await при вызове асинхронной функции.
                                </p>
                                <p>
                                    Я настоятельно рекомендую использовать async / await, так как в любой момент вы можете переключиться на async, забыв про await. Надеюсь, это кому-то помогло. Опять же, все тестировалось, поэтому, все у вас будет работать.
                                </p>
                            </div>
                        </div>
                    </section>
                    <!-- end section -->

                    <!-- end section -->
                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/prism.js"></script>
</body>

</html>
