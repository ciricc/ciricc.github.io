<script>
	window.pageGot = true;
</script>
<h1>HTTP</h1>
<p>
	HTTP Клиент существует в Easy VK со второй версии. Он нужен для тех случаев, когда нужно- сделать что-то такое, что не поволет официальное API ВКонтакте. Так, например, на его основе я написал Audio API. Это не значит, что я говорю "разрабы, Вы совсем зажрались", я предлагаю альтернативу, и предполагаю, что Вы не будете злоупотреблять этими возможностями.
</p>
<p>
	HTTP Клиент работает по принципу HTTP сессии, если Вы хотя бы частично знакомы с алгоритмом работы HTTP, то знаете, что сессия там живет, пока о Вас можно собрать хоть какую-то информацию*, например, кукисы. Когда Вы авторизуетесь в обычном браузере во Вконтакте, Вы создаете сессию, и информация об этой сессии хранится в куках браузера. Чтобы сессия "поддерживалась", браузер отправляет кукисы каждый раз, когда делает запрос, вместе с самим запросом. Таким образом, сервер ВКонтакте всегда будет знать, что сделать с этим запросом, и какой пользователь его выполнил
</p>
<p>
	HTTP Клиент работает именно по принципу браузера, он авторизует Вас как бы "через браузер"*, и возвращает Вам объект для работы в этой авторизованной сессии. Так как авторизация происходит по протоколу HTTP, многие моменты могут перестать работать со временем, ведь ВКонтакте часто меняют свои внутренние и внешние алгоритмы, а я просто слоупок. Так, например, сейчас в HTTP клиенте не поддерживается двухфакторная авторизация, а также проверка на капчу при авторизации. Но скоро это поправится. Кроме того, так как формат ответа ВКонтакте может изменяться, ныне работающий Audio API может перестать работать (но я сделаю максимум, чтобы этого не произошло)
</p>
<p>
	В общем HTTP Клиент - это мощная, крутая особенность Easy VK, но его поддержка - это тяжелое дело и требует своевременного отклика на любые изменения ВКонтакте. Вы можете его использовать, а можете написать свой, на основе библиотеки <code class="h">request</code>, это не сложно. Но будьте бдительны к ошибкам.
</p>
<p>
	Использовать HTTP Клиент нужно так:
</p>
<pre class="js"><code>easyvk().then(vk => {
	vk.http.loginByForm(({client}) => {
		// Первый шаг - авторизация в http клиенте, всегда
		
		client.someMethod(); // Пример работы с HTTP клиентом
	})
})
</code></pre>
<h2 id="loginByForm">http.loginByForm()</h2>
<div class="big-quote danger">
	<p>
		Для корректной работы HTTP авторизации, необходимо ВСЕГДА передавать в параметры авторизаии easyvk логин и пароль пользователя, так как по <code class="h">access_token</code> логин и пароль не получить из сессии, а сам логин и пароль не сохраняются в <a href="session.html" target="_blank">сессию</a> в целях безопасности данных
	</p>
</div>
<p>
	Это самый основной метод http клиента, он запускает авторизацию во ВКонтакте, в браузере (Chrome), по Вашему текущему IP адресу. Метод возвращает объект <a href="#">Promise</a>, в случае корректной авторизации, <code class="h">resolve</code> функция получит следующий объект
</p>
<pre class="js"><code>{
	client: HTTPClient,
	vk: EasyVK
}</code></pre>
<div class="big-quote">
	<p>
		Для проверки данных логина и пароля, HTTP клиент проведет сразу две авторизации (первая, по официальному API, а вторая, по HTTP), так что не переживайте, если в сеансах ВКонтакте будет на одну строку больше
	</p>
</div>
<pre class="js"><code>easyvk({
  username: "логин_пользователя", 
  password: "пароль"
}).then(vk => {
  
  vk.http.loginByForm().then(({client: <a href="httpclient.html" target="_blank">HTTPClient</a>}) => {
     
     console.log(<a href="httpclient.html" target="_blank">HTTPClient</a>);

  })

})</code></pre>
<p>
	Теперь Вам необходимо познакомиться с <a href="httpclient.html" target="_blank">клиентом</a> поближе, чтобы понять, что он может.
</p>