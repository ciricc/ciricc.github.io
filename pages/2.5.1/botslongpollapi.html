{#title|Easy VK / Node.JS ВКонтакте API | Bots Longpoll}
<script>
	window.pageGot = true;
</script>
<h1>[Bots] LongPoll API</h1>
<div class="big-quote danger">
  <div class="p">
    <span class="ic">{...}</span> Для включения или отключения используйте utils.bots <br/></br/>
    <pre class="js"><code>easyvk({
  utils: {
    bots: true
  }
})</code></pre></br/>
    <i>Unknow method ... of undefined</i>
  </div>
</div>
<p>
	С недавних пор в Easy VK есть и Bots LongPoll, который предназначен для прослушивания событий группы, для создания чат-ботов.
</p>
<h2 id="description"><span>#</span> Описание</h2>
<p>
	Доступ в bots longpoll происходит следующим образом
</p>
<pre class="js"><code>
	vk.bots.longpoll
</code></pre>
<p>
	Все методы, за исключением <a href="longpollapi.html#lpcon_addEventCodeListener" target="_blank">lpcon.addEventCodeListener()</a>, повторяются из <a href="longpollapi.html" target="_blank">LongPoll API</a>, все! Но структура событий немного отличается, так как в Bots LongPoll API все события - это нормальные события с именем, а не идентификатором, как в  обычном LongPoll API
</p>
<div class="big-quote">
  <p>
    Если вы используете авторизацию группы, то настраивать Bots LongPoll необязательно, все нужные параметры Easy VK выставит за вас.
  </p>
</div>
<pre class="js"><code>
const LPB = vk.bots.longpoll

LPB.connect({
	forGetLongPollServer: {},
	forLongPollServer: {}
}).then(({connection}) => {

	connection.debug(({type, data}) => {
		console.log(type, data)
	})

	connection.on('message_new', (msg) => {
		console.log(msg)   
	})

})
</code></pre>

<h2 id="events"><span>#</span> События</h2>
<p>
	События тут работают также, как в <a href="callbackapi.html" target="_blank">Callback API</a>, почитайте, какие <a href="https://vk.com/dev/groups_events" target="_blank">события вообще есть</a> в группах
</p>
<pre class="js"><code>
const LPB = vk.bots.lonpoll

LPB.connect().then(({ connection }) => {

  connection.on('message_new', (msg) => {
    
    console.log(msg)

  }) 

})

</code></pre>