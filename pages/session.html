<!DOCTYPE html>
<html lang="ru-ru">
  <head>
  	
  	{% head %}

  </head>
  <body>
  	
  	<section class="header">
  	  
  	  <!-- 
  	  	Header section, here are logo and 
  		version selection, news and other... 
  	  -->

		{% header %}


  	</section>

    <section class="body-develop" style="max-height: 100%;overflow: hidden;">
    
      <!-- Start navigation block, copy/paste id :D -->


      <div class="col-md-3 docs body-elem no-padding" style="max-height: 100%;min-height: 100%;">
        {% nav %}
      </div>


      

      <!-- End navigation block, copy/paste id :D -->



      <div class="col-md-9 body-elem" style="max-height: 100%;min-height: 100%;">
          <div class="col-md-11 body-content">
             <!-- Content is here -->
             <h1>Сессия</h1>
             <p>
               После того, как EasyVK вас авторизует, создается объект сессии - это просто объект, у которого есть свои методы и т.д. И он зависит безусовно, от файла сессии, если вы указали что необходимо сохранять сессию в файл. Вы можете изменить сессию и управлять ею через ее же методы.
             </p>
             <p>
               <b>ВНИМАНИЕ ! Объект сессии существует в EasyVK с версии 1.2, в версиях ниже был только метод vk.saveSession(), используйте последние релизы EasyVK.</b>
             </p>
             <hr>
             <div class="theme">
               <h2 id="session_save">session.save()</h2>
               <p>
                 Данный метод сохраняет сессию по указанному файлу, если файл не был указан, то выкинится ошибка. Все просто.
               </p>
             <pre><code class="js">vk.session.cache = []

vk.session.cache[0] = [/* Photos...*/]

vk.session.save().then(() => {
  
  console.log('Saved!')

})</code></pre>
             </div>
             
             <div class="theme">
               <h2 id="session_setPath">session.setPath()</h2>
               <p>
                 Данный метод устанавливает путь к файлу сессии, если файла не существует, он автоматически будет создан.
               </p>
               <pre><code class="js">const path = require('path')
const sessionPath = path.join(__dirname, '.current-session')


vk.session.setPath(sessionPath)
.then(({vk: EasyVK}) => {
  
  console.log(EasyVK.session.path) //__dirname + .current-session

})</code></pre>
              <p>
                Конечно, вы можете изменять path, просто устанавливая его новым свойством, но я рекомендую делать это именно через данный метод. 
              </p>
              <p>
                Сам метод же может пригодиться в тех случаях, когда вам необходимо менять сессии прям "на ходу"... Может быть, у вас на одном процессе несколько ботов (не рекомендуется).
              </p>
             </div>
             <div class="theme">
               <h2 id="session_clear">session.clear()</h2>
               <p>
                 Данный метод отчищает файл сессии, вашу сессию, как объект, и потом синхронизирует с файловой системой, то есть сохранет данные.
               </p>
               <p>
                 Все просто!
               </p>
               <pre><code class="js">vk.session.data = []
vk.session.clear(() => {
  console.log(vk.session) // {data: undefined}
})</code></pre> 
                <p>
                  Данный метод "удаляет" не только те данные, которые вы добавили, но и те, что были изначально. Таким образом вы можете отчищать файл сессии.
                </p>
                <p>
                  Сами же свойства в объекте сессии не удаляются, так как метод <code>delete</code> работает очень медленно, не хотелось бы застопорить весь процесс только одним методом.
                </p>
             </div>
          </div>
      </div>

    </section>

    {% scripts %}

  </body>
</html>
